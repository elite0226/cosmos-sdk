(window.webpackJsonp=window.webpackJsonp||[]).push([[205],{793:function(e,c,g){"use strict";g.r(c);var l=g(1),d=Object(l.a)({},(function(){var e=this,c=e.$createElement,g=e._self._c||c;return g("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[g("h1",{attrs:{id:"concepts"}},[g("a",{staticClass:"header-anchor",attrs:{href:"#concepts"}},[e._v("#")]),e._v(" Concepts")]),e._v(" "),g("h2",{attrs:{id:"evidence"}},[g("a",{staticClass:"header-anchor",attrs:{href:"#evidence"}},[e._v("#")]),e._v(" Evidence")]),e._v(" "),g("p",[e._v("Any concrete type of evidence submitted to the "),g("code",[e._v("x/evidence")]),e._v(" module must fulfill the\n"),g("code",[e._v("Evidence")]),e._v(" contract outlined below. Not all concrete types of evidence will fulfill\nthis contract in the same way and some data may be entirely irrelevant to certain\ntypes of evidence. An additional "),g("code",[e._v("ValidatorEvidence")]),e._v(", which extends "),g("code",[e._v("Evidence")]),e._v(",\nhas also been created to define a contract for evidence against malicious validators.")]),e._v(" "),g("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"Ly8gRXZpZGVuY2UgZGVmaW5lcyB0aGUgY29udHJhY3Qgd2hpY2ggY29uY3JldGUgZXZpZGVuY2UgdHlwZXMgb2YgbWlzYmVoYXZpb3IKLy8gbXVzdCBpbXBsZW1lbnQuCnR5cGUgRXZpZGVuY2UgaW50ZXJmYWNlIHsKCXByb3RvLk1lc3NhZ2UKCglSb3V0ZSgpIHN0cmluZwoJVHlwZSgpIHN0cmluZwoJU3RyaW5nKCkgc3RyaW5nCglIYXNoKCkgdG1ieXRlcy5IZXhCeXRlcwoJVmFsaWRhdGVCYXNpYygpIGVycm9yCgoJLy8gSGVpZ2h0IGF0IHdoaWNoIHRoZSBpbmZyYWN0aW9uIG9jY3VycmVkCglHZXRIZWlnaHQoKSBpbnQ2NAp9CgovLyBWYWxpZGF0b3JFdmlkZW5jZSBleHRlbmRzIEV2aWRlbmNlIGludGVyZmFjZSB0byBkZWZpbmUgY29udHJhY3QKLy8gZm9yIGV2aWRlbmNlIGFnYWluc3QgbWFsaWNpb3VzIHZhbGlkYXRvcnMKdHlwZSBWYWxpZGF0b3JFdmlkZW5jZSBpbnRlcmZhY2UgewoJRXZpZGVuY2UKCgkvLyBUaGUgY29uc2Vuc3VzIGFkZHJlc3Mgb2YgdGhlIG1hbGljaW91cyB2YWxpZGF0b3IgYXQgdGltZSBvZiBpbmZyYWN0aW9uCglHZXRDb25zZW5zdXNBZGRyZXNzKCkgc2RrLkNvbnNBZGRyZXNzCgoJLy8gVGhlIHRvdGFsIHBvd2VyIG9mIHRoZSBtYWxpY2lvdXMgdmFsaWRhdG9yIGF0IHRpbWUgb2YgaW5mcmFjdGlvbgoJR2V0VmFsaWRhdG9yUG93ZXIoKSBpbnQ2NAoKCS8vIFRoZSB0b3RhbCB2YWxpZGF0b3Igc2V0IHBvd2VyIGF0IHRpbWUgb2YgaW5mcmFjdGlvbgoJR2V0VG90YWxQb3dlcigpIGludDY0Cn0K"}}),e._v(" "),g("h2",{attrs:{id:"registration-handling"}},[g("a",{staticClass:"header-anchor",attrs:{href:"#registration-handling"}},[e._v("#")]),e._v(" Registration & Handling")]),e._v(" "),g("p",[e._v("The "),g("code",[e._v("x/evidence")]),e._v(" module must first know about all types of evidence it is expected\nto handle. This is accomplished by registering the "),g("code",[e._v("Route")]),e._v(" method in the "),g("code",[e._v("Evidence")]),e._v("\ncontract with what is known as a "),g("code",[e._v("Router")]),e._v(" (defined below). The "),g("code",[e._v("Router")]),e._v(" accepts\n"),g("code",[e._v("Evidence")]),e._v(" and attempts to find the corresponding "),g("code",[e._v("Handler")]),e._v(" for the "),g("code",[e._v("Evidence")]),e._v("\nvia the "),g("code",[e._v("Route")]),e._v(" method.")]),e._v(" "),g("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"dHlwZSBSb3V0ZXIgaW50ZXJmYWNlIHsKICBBZGRSb3V0ZShyIHN0cmluZywgaCBIYW5kbGVyKSBSb3V0ZXIKICBIYXNSb3V0ZShyIHN0cmluZykgYm9vbAogIEdldFJvdXRlKHBhdGggc3RyaW5nKSBIYW5kbGVyCiAgU2VhbCgpCiAgU2VhbGVkKCkgYm9vbAp9Cg=="}}),e._v(" "),g("p",[e._v("The "),g("code",[e._v("Handler")]),e._v(" (defined below) is responsible for executing the entirety of the\nbusiness logic for handling "),g("code",[e._v("Evidence")]),e._v(". This typically includes validating the\nevidence, both stateless checks via "),g("code",[e._v("ValidateBasic")]),e._v(" and stateful checks via any\nkeepers provided to the "),g("code",[e._v("Handler")]),e._v(". In addition, the "),g("code",[e._v("Handler")]),e._v(" may also perform\ncapabilities such as slashing and jailing a validator. All "),g("code",[e._v("Evidence")]),e._v(" handled\nby the "),g("code",[e._v("Handler")]),e._v(" should be persisted.")]),e._v(" "),g("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"Ly8gSGFuZGxlciBkZWZpbmVzIGFuIGFnbm9zdGljIEV2aWRlbmNlIGhhbmRsZXIuIFRoZSBoYW5kbGVyIGlzIHJlc3BvbnNpYmxlCi8vIGZvciBleGVjdXRpbmcgYWxsIGNvcnJlc3BvbmRpbmcgYnVzaW5lc3MgbG9naWMgbmVjZXNzYXJ5IGZvciB2ZXJpZnlpbmcgdGhlCi8vIGV2aWRlbmNlIGFzIHZhbGlkLiBJbiBhZGRpdGlvbiwgdGhlIEhhbmRsZXIgbWF5IGV4ZWN1dGUgYW55IG5lY2Vzc2FyeQovLyBzbGFzaGluZyBhbmQgcG90ZW50aWFsIGphaWxpbmcuCnR5cGUgSGFuZGxlciBmdW5jKHNkay5Db250ZXh0LCBFdmlkZW5jZSkgZXJyb3IK"}}),e._v(" "),g("h2",{attrs:{id:"app-wiring"}},[g("a",{staticClass:"header-anchor",attrs:{href:"#app-wiring"}},[e._v("#")]),e._v(" App Wiring")]),e._v(" "),g("p",[e._v("The minimal app-wiring configuration for "),g("code",[e._v("x/evidence")]),e._v(" is as follows:")]),e._v(" "),g("p",[g("tm-code-block",{staticClass:"codeblock",attrs:{language:"false",base64:"bW9kdWxlczoKICAtIG5hbWU6IHJ1bnRpbWUKICAgIGNvbmZpZzoKICAgICAgJnF1b3Q7QHR5cGUmcXVvdDs6IGNvc21vcy5hcHAucnVudGltZS52MWFscGhhMS5Nb2R1bGUKCiAgICAgIGFwcF9uYW1lOiBFdmlkZW5jZUFwcAoKICAgICAgYmVnaW5fYmxvY2tlcnM6IFtzbGFzaGluZywgZXZpZGVuY2UsIHN0YWtpbmcsIGF1dGgsIGJhbmssIGdlbnV0aWwsIHBhcmFtc10KICAgICAgZW5kX2Jsb2NrZXJzOiBbc3Rha2luZywgYXV0aCwgYmFuaywgc2xhc2hpbmcsIGdlbnV0aWwsIGV2aWRlbmNlLCBwYXJhbXNdCiAgICAgIGluaXRfZ2VuZXNpczogW2F1dGgsIGJhbmssIHN0YWtpbmcsIHNsYXNoaW5nLCBnZW51dGlsLCBldmlkZW5jZSwgcGFyYW1zXQoKICAtIG5hbWU6IGF1dGgKICAgIGNvbmZpZzoKICAgICAgJnF1b3Q7QHR5cGUmcXVvdDs6IGNvc21vcy5hdXRoLm1vZHVsZS52MS5Nb2R1bGUKICAgICAgYmVjaDMyX3ByZWZpeDogY29zbW9zCiAgICAgIG1vZHVsZV9hY2NvdW50X3Blcm1pc3Npb25zOgogICAgICAgIC0gYWNjb3VudDogZmVlX2NvbGxlY3RvcgogICAgICAgIC0gYWNjb3VudDogbWludAogICAgICAgICAgcGVybWlzc2lvbnM6IFttaW50ZXJdCiAgICAgICAgLSBhY2NvdW50OiBib25kZWRfdG9rZW5zX3Bvb2wKICAgICAgICAgIHBlcm1pc3Npb25zOiBbYnVybmVyLCBzdGFraW5nXQogICAgICAgIC0gYWNjb3VudDogbm90X2JvbmRlZF90b2tlbnNfcG9vbAogICAgICAgICAgcGVybWlzc2lvbnM6IFtidXJuZXIsIHN0YWtpbmddCiAgICAgICAgLSBhY2NvdW50OiBuZnQKCiAgLSBuYW1lOiBiYW5rCiAgICBjb25maWc6CiAgICAgICZxdW90O0B0eXBlJnF1b3Q7OiBjb3Ntb3MuYmFuay5tb2R1bGUudjEuTW9kdWxlCgogIC0gbmFtZTogcGFyYW1zCiAgICBjb25maWc6CiAgICAgICZxdW90O0B0eXBlJnF1b3Q7OiBjb3Ntb3MucGFyYW1zLm1vZHVsZS52MS5Nb2R1bGUKCiAgLSBuYW1lOiB0eAogICAgY29uZmlnOgogICAgICAmcXVvdDtAdHlwZSZxdW90OzogY29zbW9zLnR4Lm1vZHVsZS52MS5Nb2R1bGUKCiAgLSBuYW1lOiBzdGFraW5nCiAgICBjb25maWc6CiAgICAgICZxdW90O0B0eXBlJnF1b3Q7OiBjb3Ntb3Muc3Rha2luZy5tb2R1bGUudjEuTW9kdWxlCgogIC0gbmFtZTogc2xhc2hpbmcKICAgIGNvbmZpZzoKICAgICAgJnF1b3Q7QHR5cGUmcXVvdDs6IGNvc21vcy5zbGFzaGluZy5tb2R1bGUudjEuTW9kdWxlCgogIC0gbmFtZTogZ2VudXRpbAogICAgY29uZmlnOgogICAgICAmcXVvdDtAdHlwZSZxdW90OzogY29zbW9zLmdlbnV0aWwubW9kdWxlLnYxLk1vZHVsZQoKICAtIG5hbWU6IGV2aWRlbmNlCiAgICBjb25maWc6CiAgICAgICZxdW90O0B0eXBlJnF1b3Q7OiBjb3Ntb3MuZXZpZGVuY2UubW9kdWxlLnYxLk1vZHVsZQo="}})],1)],1)}),[],!1,null,null,null);c.default=d.exports}}]);